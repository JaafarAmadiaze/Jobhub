<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="fr">
<head>
    <meta charset="UTF-8">
    <title th:text="'Offre - ' + ${job.title}">DÃ©tail du poste</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body class="bg-gray-100 text-gray-800 font-sans">
<header class="bg-light shadow-sm mb-4">
    <div class="container py-3 d-flex justify-content-between align-items-center">
        <h1 class="h4 text-primary">JobHub</h1>

        <nav class="nav gap-3">
            <div th:if="${currentUserRole == 'CANDIDATE' or currentUserRole == 'RECRUITER'}" class="d-flex gap-3">
                <a href="/" class="nav-link">Accueil</a>
                <a href="/listJobs" class="nav-link">Offres</a>
                <a href="/listCompanies" class="nav-link">Entreprises</a>
            </div>

            <div th:if="${currentUserRole == 'CANDIDATE'}" class="d-flex gap-3">
                <a href="/myApplications" class="nav-link">Mes candidatures</a>
            </div>

            <div th:if="${currentUserRole == 'RECRUITER'}" class="d-flex gap-3">
                <a href="/applicationsReceived" class="nav-link">ReÃ§ues</a>
            </div>

            <div th:if="${currentUserRole == 'CANDIDATE' or currentUserRole == 'RECRUITER'}" class="d-flex gap-3">
                <form th:action="@{/logout}" method="post" class="m-0">
                    <button type="submit" class="nav-link ">Se dÃ©connecter</button>
                </form>
            </div>
        </nav>
    </div>
</header>

<div class="container mx-auto py-10 px-6">
    <!-- Carte principale -->
    <div class="bg-white shadow-md rounded-lg p-8">
        <h1 class="text-3xl font-bold text-blue-700 mb-2" th:text="${job.title}">Titre du job</h1>

        <!-- Entreprise & infos -->
        <div class="flex flex-wrap items-center gap-4 mb-4 text-gray-600 text-sm">
            <a th:href="@{/company/{id}(id=${job.company.id})}" class="text-blue-600 hover:underline font-medium"
               th:text="${job.company.name}">Entreprise</a>
            <span>â€¢</span>
            <span th:text="${job.location}">Lieu</span>
            <span>â€¢</span>
            <span th:text="${job.salary + ' â‚¬'}">Salaire</span>
            <span th:if="${job.category}" class="bg-gray-100 text-gray-700 px-2 py-1 rounded-full text-xs"
                  th:text="${job.category.name}">CatÃ©gorie</span>
        </div>

        <!-- Description -->
        <div class="mb-6">
            <h2 class="text-xl font-semibold mb-2">Description du poste</h2>
            <p class="text-gray-700 whitespace-pre-line" th:text="${job.description}">DÃ©tails du poste ici...</p>
        </div>

        <!-- Infos recruteur -->
        <div class="mb-6">
            <h2 class="text-xl font-semibold mb-2">Recruteur</h2>
            <p class="text-sm text-gray-600" th:text="${job.recruiter.email}">email@exemple.com</p>
        </div>

        <!-- Postuler -->
        <a th:href="@{/apply/{id}(id=${job.id})}"
           class="w-full bg-gradient-to-r from-blue-600 via-blue-700 to-blue-800 text-white border border-blue-700
          hover:from-blue-700 hover:via-blue-800 hover:to-blue-900
          focus:ring-4 focus:outline-none focus:ring-blue-300
          font-semibold rounded-lg text-sm px-5 py-2.5 text-center
          transition duration-300 shadow-lg">
            ðŸš€ Postuler maintenant
        </a>


    </div>
</div>

</body>
</html>
